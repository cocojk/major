* TINY Compilation to TM Code
* File: test2.tm
* Standard prelude:
* End of standard prelude.
  0:    LDC  0,0(0) 	global variable store at ac
  1:     ST  0,0(2) 	global variable store at globaloff(gp)
  2:    LDC  5,1(0) 	temp use zp for push
  3:    ADD  4,4,5 	push stack address
  4:    LDC  5,0(0) 	return zp 0
  5:    LDC  0,0(0) 	global variable store at ac
  6:     ST  0,1(2) 	global variable store at globaloff(gp)
  7:    LDC  5,1(0) 	temp use zp for push
  8:    ADD  4,4,5 	push stack address
  9:    LDC  5,0(0) 	return zp 0
 10:    LDC  0,0(0) 	global variable store at ac
 11:     ST  0,2(2) 	global variable store at globaloff(gp)
 12:    LDC  5,1(0) 	temp use zp for push
 13:    ADD  4,4,5 	push stack address
 14:    LDC  5,0(0) 	return zp 0
 15:    LDC  0,0(0) 	global variable store at ac
 16:     ST  0,3(2) 	global variable store at globaloff(gp)
 17:    LDC  5,1(0) 	temp use zp for push
 18:    ADD  4,4,5 	push stack address
 19:    LDC  5,0(0) 	return zp 0
 20:    LDC  0,0(0) 	global variable store at ac
 21:     ST  0,4(2) 	global variable store at globaloff(gp)
 22:    LDC  5,1(0) 	temp use zp for push
 23:    ADD  4,4,5 	push stack address
 24:    LDC  5,0(0) 	return zp 0
 25:    LDC  0,0(0) 	global variable store at ac
 26:     ST  0,5(2) 	global variable store at globaloff(gp)
 27:    LDC  5,1(0) 	temp use zp for push
 28:    ADD  4,4,5 	push stack address
 29:    LDC  5,0(0) 	return zp 0
 30:    LDC  0,0(0) 	global variable store at ac
 31:     ST  0,6(2) 	global variable store at globaloff(gp)
 32:    LDC  5,1(0) 	temp use zp for push
 33:    ADD  4,4,5 	push stack address
 34:    LDC  5,0(0) 	return zp 0
 35:    LDC  0,0(0) 	global variable store at ac
 36:     ST  0,7(2) 	global variable store at globaloff(gp)
 37:    LDC  5,1(0) 	temp use zp for push
 38:    ADD  4,4,5 	push stack address
 39:    LDC  5,0(0) 	return zp 0
 40:    LDC  0,0(0) 	global variable store at ac
 41:     ST  0,8(2) 	global variable store at globaloff(gp)
 42:    LDC  5,1(0) 	temp use zp for push
 43:    ADD  4,4,5 	push stack address
 44:    LDC  5,0(0) 	return zp 0
 45:    LDC  0,0(0) 	global variable store at ac
 46:     ST  0,9(2) 	global variable store at globaloff(gp)
 47:    LDC  5,1(0) 	temp use zp for push
 48:    ADD  4,4,5 	push stack address
 49:    LDC  5,0(0) 	return zp 0
 50:    ADD  3,4,5 	move sp -> fp
 51:    LDC  5,1(0) 	temp use zp for push
 52:    ADD  4,4,5 	push stack address
 53:    LDC  5,0(0) 	return zp 0
 54:    LDC  0,0(0) 	local variablearray store at ac
 55:     ST  0,1(3) 	local variablearray store at localoff(fp)
 56:    LDC  5,1(0) 	temp use zp for push
 57:    ADD  4,4,5 	push stack address
 58:    LDC  5,0(0) 	return zp 0
 59:    LDC  0,0(0) 	local variablearray store at ac
 60:     ST  0,2(3) 	local variablearray store at localoff(fp)
 61:    LDC  5,1(0) 	temp use zp for push
 62:    ADD  4,4,5 	push stack address
 63:    LDC  5,0(0) 	return zp 0
 64:    LDC  0,0(0) 	local variablearray store at ac
 65:     ST  0,3(3) 	local variablearray store at localoff(fp)
 66:    LDC  5,1(0) 	temp use zp for push
 67:    ADD  4,4,5 	push stack address
 68:    LDC  5,0(0) 	return zp 0
 69:    LDC  0,0(0) 	local variablearray store at ac
 70:     ST  0,4(3) 	local variablearray store at localoff(fp)
 71:    LDC  5,1(0) 	temp use zp for push
 72:    ADD  4,4,5 	push stack address
 73:    LDC  5,0(0) 	return zp 0
 74:    LDC  0,0(0) 	local variablearray store at ac
 75:     ST  0,5(3) 	local variablearray store at localoff(fp)
 76:    LDC  5,1(0) 	temp use zp for push
 77:    ADD  4,4,5 	push stack address
 78:    LDC  5,0(0) 	return zp 0
 79:    LDC  0,0(0) 	local variablearray store at ac
 80:     ST  0,6(3) 	local variablearray store at localoff(fp)
 81:    LDC  5,1(0) 	temp use zp for push
 82:    ADD  4,4,5 	push stack address
 83:    LDC  5,0(0) 	return zp 0
 84:    LDC  0,0(0) 	local variablearray store at ac
 85:     ST  0,7(3) 	local variablearray store at localoff(fp)
 86:    LDC  5,1(0) 	temp use zp for push
 87:    ADD  4,4,5 	push stack address
 88:    LDC  5,0(0) 	return zp 0
 89:    LDC  0,0(0) 	local variablearray store at ac
 90:     ST  0,8(3) 	local variablearray store at localoff(fp)
 91:    LDC  5,1(0) 	temp use zp for push
 92:    ADD  4,4,5 	push stack address
 93:    LDC  5,0(0) 	return zp 0
 94:    LDC  0,0(0) 	local variablearray store at ac
 95:     ST  0,9(3) 	local variablearray store at localoff(fp)
 96:    LDC  5,1(0) 	temp use zp for push
 97:    ADD  4,4,5 	push stack address
 98:    LDC  5,0(0) 	return zp 0
 99:    LDC  0,0(0) 	local variablearray store at ac
100:     ST  0,10(3) 	local variablearray store at localoff(fp)
101:    LDC  5,1(0) 	temp use zp for push
102:    ADD  4,4,5 	push stack address
103:    LDC  5,0(0) 	return zp 0
* -> assign
* idarray in index start
* -> Const
104:    LDC  0,0(0) 	load const
* <- Const
* idarray in index end
105:    ADD  6,0,5 	move ac -> ip
* assign rvalue start
* -> Const
106:    LDC  0,10(0) 	load const
* <- Const
* assign rvalue end
107:    LDC  1,0(0) 	load offset
108:    ADD  6,6,1 	load offset+index
109:    ADD  6,6,2 	load offset+index+gp
110:     ST  0,0(6) 	load global idarray value
* -> assign
* idarray in index start
* -> Const
111:    LDC  0,0(0) 	load const
* <- Const
* idarray in index end
112:    ADD  6,0,5 	move ac -> ip
* assign rvalue start
* -> Const
113:    LDC  0,1(0) 	load const
* <- Const
* assign rvalue end
114:    LDC  1,1(0) 	load offset
115:    ADD  6,6,1 	load offset+index
116:    ADD  6,6,3 	load offset+index+gp
117:     ST  0,0(6) 	load local idarray value
* function call use vararray
* function call use vararray
118:     LD  0,1(3) 	load local array at ac
119:     ST  0,0(4) 	insert array parameter
120:    LDC  5,1(0) 	temp use zp for push
121:    ADD  4,4,5 	push stack address
122:    LDC  5,0(0) 	return zp 0
123:     LD  0,2(3) 	load local array at ac
124:     ST  0,0(4) 	insert array parameter
125:    LDC  5,1(0) 	temp use zp for push
126:    ADD  4,4,5 	push stack address
127:    LDC  5,0(0) 	return zp 0
128:     LD  0,3(3) 	load local array at ac
129:     ST  0,0(4) 	insert array parameter
130:    LDC  5,1(0) 	temp use zp for push
131:    ADD  4,4,5 	push stack address
132:    LDC  5,0(0) 	return zp 0
133:     LD  0,4(3) 	load local array at ac
134:     ST  0,0(4) 	insert array parameter
135:    LDC  5,1(0) 	temp use zp for push
136:    ADD  4,4,5 	push stack address
137:    LDC  5,0(0) 	return zp 0
138:     LD  0,5(3) 	load local array at ac
139:     ST  0,0(4) 	insert array parameter
140:    LDC  5,1(0) 	temp use zp for push
141:    ADD  4,4,5 	push stack address
142:    LDC  5,0(0) 	return zp 0
143:     LD  0,6(3) 	load local array at ac
144:     ST  0,0(4) 	insert array parameter
145:    LDC  5,1(0) 	temp use zp for push
146:    ADD  4,4,5 	push stack address
147:    LDC  5,0(0) 	return zp 0
148:     LD  0,7(3) 	load local array at ac
149:     ST  0,0(4) 	insert array parameter
150:    LDC  5,1(0) 	temp use zp for push
151:    ADD  4,4,5 	push stack address
152:    LDC  5,0(0) 	return zp 0
153:     LD  0,8(3) 	load local array at ac
154:     ST  0,0(4) 	insert array parameter
155:    LDC  5,1(0) 	temp use zp for push
156:    ADD  4,4,5 	push stack address
157:    LDC  5,0(0) 	return zp 0
158:     LD  0,9(3) 	load local array at ac
159:     ST  0,0(4) 	insert array parameter
160:    LDC  5,1(0) 	temp use zp for push
161:    ADD  4,4,5 	push stack address
162:    LDC  5,0(0) 	return zp 0
163:     LD  0,10(3) 	load local array at ac
164:     ST  0,0(4) 	insert array parameter
165:    LDC  5,1(0) 	temp use zp for push
166:    ADD  4,4,5 	push stack address
167:    LDC  5,0(0) 	return zp 0
168:     ST  3,0(4) 	save old fp
169:    LDC  5,1(0) 	temp use zp for push
170:    ADD  4,4,5 	push stack address
171:    LDC  5,0(0) 	return zp 0
172:    ADD  3,4,5 	sp->fp
173:    LDC  0,11(0) 	parameternum -> ac
174:     ST  0,0(4) 	save old sp
175:    LDC  5,1(0) 	temp use zp for push
176:    ADD  4,4,5 	push stack address
177:    LDC  5,0(0) 	return zp 0
* -> Op
* -> Id
* -> Idarray
* -> Const
178:    LDC  0,0(0) 	load const
* <- Const
179:    LDC  1,0(0) 	load index
180:    ADD  0,1,0 	offset + index value
181:    ADD  0,0,2 	offset + index value + gp
182:     LD  0,0(0) 	load global idarray value
* <- Idarray
183:     ST  0,0(4) 	op: push left
184:    LDC  5,1(0) 	temp use zp for push
185:    ADD  4,4,5 	push stack address
186:    LDC  5,0(0) 	return zp 0
* -> Id
* -> Idarray
* -> Const
187:    LDC  0,0(0) 	load const
* <- Const
188:    LDC  1,-11(0) 	load index
189:    ADD  0,1,0 	offset + index value
190:    ADD  0,0,3 	offset + index value + fp
191:     LD  0,0(0) 	load global idarray value
* <- Idarray
192:    LDC  5,1(0) 	temp use zp for pop
193:    SUB  4,4,5 	pop stack address
194:    LDC  5,0(0) 	return zp 0
195:     LD  1,0(4) 	op: load left
196:    ADD  0,1,0 	op +
* <- Op
197:     LD  1,0(3) 	old sp ->ac
198:    SUB  4,3,1 	reset old sp
199:     LD  3,-1(3) 	reset old fp
200:    OUT  0,0,0 	standard output
* End of execution.
201:   HALT  0,0,0 	
